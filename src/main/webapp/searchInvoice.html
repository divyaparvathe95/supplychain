<html xmlns="http://www.w3.org/1999/xhtml" ng-app="myApp">
<head>
    <meta charset="utf-8">
    <title>Search Invoice</title>
   
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>

</head>

<body>

    <script>
        var myApp = angular.module('myApp', []);
        myApp.controller('myCtrl', function ($scope, $http) {
            $scope.myfunc = function () {
            	var x = $scope.invoiceNo;
            	console.log("x is:"+x);
				console.log("yayyyy");
                $http.post('http://localhost:8181/invoice/searchInvoice/'+x).success(function (response) {
                    $scope.proposals = response;
                    console.log( $scope.proposals);

                });
            }
        });  
  </script> 
  <div ng-controller="myCtrl">
    
   <form id="myForm" method="post" role="form">
    	Invoice No<input type="text" id="invoiceNo" name="invoiceNo" ng-model="invoiceNo" required/>
        <button type="submit" ng-click="myfunc()">View Invoices</button>
	</form>


        <div ng-controller="myCtrl">
            <table border=1>
                <tr>
                	<th Style="padding:5px 5px">Invoice No</th>
                    <th Style="padding:5px 5px">Contract No</th>
                    <th Style="padding:5px 5px">Buyer ID</th>
                    <th Style="padding:5px 5px">Seller ID</th>
                    <th Style="padding:5px 5px">quantity</th>
                    <th Style="padding:5px 5px">productId</th>
                    <th Style="padding:5px 5px">unitPrice</th>
                    <th Style="padding:5px 5px">grossAmount</th>
                    <th Style="padding:5px 5px">netAmount</th>
                    <th Style="padding:5px 5px">tax</th>
                    <th Style="padding:5px 5px">draftStatus</th>
                    <th Style="padding:5px 5px">approvalStatus</th>
                    <th Style="padding:5px 5px">financingStatus</th>
           
                </tr>
                <tr ng-repeat="i in invoices">
                	<td>{{i.invoiceNo}}</td>
                    <td>{{i.contractNo}}</td>
                    <td>{{i.buyerId}}</td>
                    <td>{{i.sellerId}}</td>
                    <td>{{i.quantity}}</td>
                    <td>{{i.productId}}</td>
                    <td>{{i.unitPrice}}</td>
                    <td>{{i.grossAmount}}</td>
                    <td>{{i.netAmount}}</td>
                    <td>{{i.tax}}</td>
                     <td>{{i.draftStatus}}</td>
                    <td>{{i.approvalStatus}}</td>
                    <td>{{i.financingStatus}}</td>
                </tr>
            </table>
        </div>
    </div>
</body>
</html>